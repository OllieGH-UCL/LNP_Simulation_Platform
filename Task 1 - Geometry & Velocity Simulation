# Task 1 

Here I go through one can run a Velcoity and Pressure simulation for the first task of simulationg and testing a LNP mixer. 

Here I use the elbow_chip2.1.4_PP folder. 

# Details 
ðŸ“‚ Repository Structure
text
elbow_chip2.1.4_PP/                 â† Topâ€level case directory
â”‚
â”œâ”€â”€ 0/                             â† Initial and boundary field definitions
â”‚   â”œâ”€â”€ U                          â† Velocity field
â”‚   â””â”€â”€ p                          â† Pressure field
â”‚
â”œâ”€â”€ constant/                      â† Mesh metadata and material properties
â”‚   â”œâ”€â”€ polyMesh/                  â† Mesh topology generated by gmshToFoam
â”‚   â”‚   â”œâ”€â”€ boundary               â† Patch definitions
â”‚   â”‚   â”œâ”€â”€ faces                  â† Mesh faces list
â”‚   â”‚   â”œâ”€â”€ points                 â† Mesh point coordinates
â”‚   â”‚   â”œâ”€â”€ owner                  â† Cellâ€owner map
â”‚   â”‚   â”œâ”€â”€ neighbour              â† Cellâ€neighbour map
â”‚   â”‚   â”œâ”€â”€ cellZones              â† Cellâ€zone definitions
â”‚   â”‚   â”œâ”€â”€ faceZones              â† Faceâ€zone definitions
â”‚   â”‚   â”œâ”€â”€ pointZones             â† Pointâ€zone definitions
â”‚   â”‚   â””â”€â”€ sets/                  â† Named cellSets (e.g., â€œfluidâ€)
â”‚   â”‚       â””â”€â”€ fluid
â”‚   â”‚
â”‚   â”œâ”€â”€ transportProperties       â† Fluid viscosity & diffusion coefficients
â”‚   â””â”€â”€ turbulenceProperties.txt  â† Turbulence model parameters
â”‚
â”œâ”€â”€ geometry/                      â† All Gmsh `.geo` channel layouts
â”‚   â”œâ”€â”€ t_shape.geo                â† Primary Tâ€junction design
â”‚   â”œâ”€â”€ t_shape_2.geo              â† Baffle variation #2
â”‚   â”œâ”€â”€ t_shape_3.geo              â† Baffle variation #3
â”‚   â””â”€â”€ t_shape_4.geo              â† Latest 9â€baffle design
â”‚
â”œâ”€â”€ run/                           â† Mesh & solver logs plus automation scripts
â”‚   â”œâ”€â”€ test.msh                   â† Gmshâ€generated mesh
â”‚   â”œâ”€â”€ log.mesh                   â† gmshToFoam & checkMesh output
â”‚   â”œâ”€â”€ log.foam                   â† icoFoam solver output
â”‚   â”œâ”€â”€ Allrun                     â† Master script: mesh â†’ convert â†’ solve
â”‚   â””â”€â”€ Allclean                   â† Clean mesh, logs, case directories
â”‚
â”œâ”€â”€ system/                        â† OpenFOAM control dictionaries
â”‚   â”œâ”€â”€ controlDict                â† Time stepping, write controls
â”‚   â”œâ”€â”€ fvSchemes                  â† Discretization schemes
â”‚   â”œâ”€â”€ fvSolution                 â† Linear solver settings
â”‚   â””â”€â”€ foamDataToFluentDict       â† Fields to export for Fluent
â”‚
â”œâ”€â”€ *.geo.opt                      â† Gmsh optimization parameter files
â”œâ”€â”€ error/                         â† Recorded error outputs & screenshots
â”œâ”€â”€ find_unnamed_surfaces.py       â† Tool to flag untagged geometry loops
â”œâ”€â”€ myenv_wsl                      â† WSL setup notes or environment scripts
â””â”€â”€ test.msh                       â† Duplicate of run/test.msh for quick access
ðŸ Quick Start
Install prerequisites

WSL (Windows Subsystem for Linux)

OpenFOAM v2412

Gmsh

ParaView

Generate mesh and import into OpenFOAM

bash
cd elbow_chip2.1.4_PP
LIBGL_ALWAYS_SOFTWARE=1 gmsh geometry/t_shape.geo
gmsh geometry/t_shape.geo -3 -o run/test.msh
gmshToFoam run/test.msh
checkMesh
Run singleâ€phase simulation

bash
cd run
icoFoam > log.foam 2>&1
Visualize in ParaView

bash
paraFoam
ðŸ”§ Installation
1. Installing WSL
(Instructions TBD)

2. Installing OpenFOAM v2412
(Instructions TBD)

3. Installing Gmsh
bash
sudo apt update
sudo apt install gmsh
ðŸ“ Geometry Creation & Meshing
Open geometry/t_shape.geo in Gmsh.

Adjust lc (characteristic length); 0.1 works well.

Use Gmsh GUI to define points, connect lines, and create Curve Loops.

Define Plane Surfaces and Physical Groups (inlet_1, inlet_2, outlet, walls, frontAndBackPlanes).

Mesh: 1D â†’ 2D â†’ 3D.

If â€œCurve loop is wrongâ€ error appears, ensure every line is in exactly one Curve Loop.

Export mesh for OpenFOAM (see Quick Start).

âš™ï¸ Simulation Control
Edit files under system/:

controlDict

application icoFoam;

endTime 7e-6; deltaT 1e-8; maxCo 1; writeInterval 20;

fvSchemes â€“ temporal & spatial schemes

fvSolution â€“ solver settings, PISO correctors

foamDataToFluentDict â€“ fields for Fluent export

Set boundary conditions in 0/U and 0/p:

text
U boundaryField
{
    inlet_1        fixedValue uniform (-0.1 0 0);
    inlet_2        fixedValue uniform ( 0.1 0 0);
    outlet         zeroGradient;
    wall_vertical  noSlip;
    wall_horizontal noSlip;
    frontAndBackPlanes empty;
}
ðŸš§ Common Issues
Multiple Physical Surfaces: Assign each patch to exactly one Physical Surface.

Curve Loop Errors: Verify Curve Loop definitions include all and only closing lines.

High Courant Number: If maxCo exceeds ~1â€“5, reduce deltaT or refine mesh.

ðŸ“– References
Fineâ€Tuning LNP Size: ACS Omega, 2018.

Mass Production of RNAâ€Loaded LNPs: ACS Omega, 2018.

ðŸš§ For My Own Knowledge 
Moving Git files, '>' in web for web-based editor (https://www.youtube.com/watch?v=xlXx6vUzJTs)
